
<!DOCTYPE html>
<html class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Random number generators for Julia language.">
      
      
      
        <meta name="author" content="Sunoru">
      
      
        <link rel="shortcut icon" href="../../assets/images/favicon.ico">
      
      <meta name="generator" content="mkdocs+mkdocs-material#1.0.3">
    
    
      
        <title>PCG Family - RandomNumbers.jl</title>
      
    
    
      <script src="../../assets/javascripts/modernizr-facb31f4a3.js"></script>
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application-f3ab63f78a.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-02ce7adcc2.palette.css">
      
      
        <link rel="stylesheet" href="../../assets/Documenter.css">
      
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="indigo" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="RandomNumbers.jl" class=" md-icon md-icon--home  md-header-nav__button">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Manual
                </span>
              
            
            PCG Family
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <div class="md-search__overlay"></div>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false">
      <label class="md-icon md-search__icon" for="search"></label>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result"></div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            
              


  


  <a href="https://github.com/sunoru/RandomNumbers.jl" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

            
          </div>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <i class=" md-icon md-icon--home  md-nav__button">
      
    </i>
    RandomNumbers.jl
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/sunoru/RandomNumbers.jl" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  <li class="md-nav__item">
    
      <a href="../.." title="Home" class="md-nav__link">
        Home
      </a>
    
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Manual
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-2">
        Manual
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../bases/" title="Bases" class="md-nav__link">
        Bases
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../benchmark/" title="Benchmark" class="md-nav__link">
        Benchmark
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        PCG Family
      </label>
    
    <a href="./" title="PCG Family" class="md-nav__link md-nav__link--active">
      PCG Family
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pcg-type" title="PCG Type" class="md-nav__link">
    PCG Type
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pcg-method-type" title="PCG Method Type" class="md-nav__link">
    PCG Method Type
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interface-and-examples" title="Interface and Examples" class="md-nav__link">
    Interface and Examples
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../mersenne-twisters/" title="Mersenne Twisters" class="md-nav__link">
        Mersenne Twisters
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../random123/" title="Random123 Family" class="md-nav__link">
        Random123 Family
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../xorshifts/" title="Xorshift Family" class="md-nav__link">
        Xorshift Family
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Library
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-3">
        Library
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../lib/random-numbers/" title="RandomNumbers" class="md-nav__link">
        RandomNumbers
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../lib/pcg/" title="PCG" class="md-nav__link">
        PCG
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../lib/mersenne-twisters/" title="MersenneTwisters" class="md-nav__link">
        MersenneTwisters
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../lib/random123/" title="Random123" class="md-nav__link">
        Random123
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../lib/xorshifts/" title="Xorshifts" class="md-nav__link">
        Xorshifts
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pcg-type" title="PCG Type" class="md-nav__link">
    PCG Type
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pcg-method-type" title="PCG Method Type" class="md-nav__link">
    PCG Method Type
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interface-and-examples" title="Interface and Examples" class="md-nav__link">
    Interface and Examples
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
               
                 <a href="https://github.com/sunoru/RandomNumbers.jl/edit/master/docs/man/pcg.md" title="Edit this page" class="md-icon md-content__edit">edit</a>
               
              
                
                <p><a id='PCG-Family-1'></a></p>
<h1 id="pcg-family">PCG Family</h1>
<p><strong><a href="http://www.pcg-random.org/">Permuted Congruential Generators</a></strong> (PCGs) are a family of RNGs which uses a <em>linear congruential generator</em> as the state-transition function, and uses <em>permutation functions on tuples</em> to produce output that is much more random than the RNG's internal state.<sup id="fnref:1"><a class="footnote-ref" href="#fn:1" rel="footnote">1</a></sup></p>
<p><a id='PCG-Type-1'></a></p>
<h2 id="pcg-type">PCG Type</h2>
<p>Each PCG generator is available in four variants, based on how it applies the additive constant for its underlying LCG; the variations are:</p>
<ul>
<li><a href="../../lib/pcg/#RandomNumbers.PCG.PCGStateOneseq"><code>PCGStateOneseq</code></a> (single stream):   all instances use the same fixed constant, thus the RNG always somewhere in same sequence.</li>
<li><a href="../../lib/pcg/#RandomNumbers.PCG.PCGStateMCG"><code>PCGStateMCG</code></a> (mcg):   adds zero, resulting in a single stream and reduced period.</li>
<li><a href="../../lib/pcg/#RandomNumbers.PCG.PCGStateSetseq"><code>PCGStateSetseq</code></a> (specific stream):   the constant can be changed at any time, selecting a different random sequence.</li>
<li><a href="../../lib/pcg/#RandomNumbers.PCG.PCGStateUnique"><code>PCGStateUnique</code></a> (unique stream):   the constant is based on the memory address of the object, thus every RNG has its own unique sequence.</li>
</ul>
<p><a id='PCG-Method-Type-1'></a></p>
<h2 id="pcg-method-type">PCG Method Type</h2>
<ul>
<li><a href="../../lib/pcg/#RandomNumbers.PCG.PCG_XSH_RS"><code>PCG_XSH_RS</code></a>: high xorshift, followed by a random shift.   It's fast and is a good performer.</li>
<li><a href="../../lib/pcg/#RandomNumbers.PCG.PCG_XSH_RR"><code>PCG_XSH_RR</code></a>: high xorshift, followed by a random rotate.   It's fast and is a good performer. Slightly better statistically than <code>PCG_XSH_RS</code>.</li>
<li><a href="../../lib/pcg/#RandomNumbers.PCG.PCG_RXS_M_XS"><code>PCG_RXS_M_XS</code></a>: fixed xorshift (to low bits), random rotate.   The most statistically powerful generator, but all those steps make it slower than some of the others.   (but in this package the benchmark shows it's even fast than <code>PCG_XSH_RS</code>, which is an current issue.)</li>
<li><a href="../../lib/pcg/#RandomNumbers.PCG.PCG_XSL_RR"><code>PCG_XSL_RR</code></a>: fixed xorshift (to low bits), random rotate.   Useful for 128-bit types that are split across two CPU registers.</li>
<li><a href="../../lib/pcg/#RandomNumbers.PCG.PCG_XSL_RR_RR"><code>PCG_XSL_RR_RR</code></a>: fixed xorshift (to low bits), random rotate (both parts).   Useful for 128-bit types that are split across two CPU registers. Use this in need of an invertable   128-bit RNG.</li>
</ul>
<p><a id='Interface-and-Examples-1'></a></p>
<h2 id="interface-and-examples">Interface and Examples</h2>
<p>An instance of PCG generator can be created by specify the state type, the output type, the method and seed. When seed is missing it is set to truly random numbers. The default output type is <code>UInt64</code>, and the default method is <code>PCG_XSH_RS</code>. The seed will be converted to the internal state type (a kind of unsigned integer), and for PCGs with specific stream (<code>PCGStateSetseq</code>) the seed should be a <code>Tuple</code> of two <code>Integer</code>s. Note that not all parameter combinations are available (see <a href="../../lib/pcg/#RandomNumbers.PCG.PCG_LIST"><code>PCG_LIST</code></a>). For example:</p>
<div class="codehilite"><pre><span></span><span class="gp">julia&gt;</span> <span class="k">using</span> <span class="n">RandomNumbers</span><span class="o">.</span><span class="n">PCG</span>

<span class="gp">julia&gt;</span> <span class="n">PCGStateOneseq</span><span class="p">(</span><span class="kt">UInt64</span><span class="p">,</span> <span class="mi">1234567</span><span class="p">)</span>  <span class="c"># create a single stream PCG, specifying the output type and seed.</span>
<span class="go">RandomNumbers.PCG.PCGStateOneseq{UInt128,Val{:XSH_RS},UInt64}(0xa10d40ffc2b1e573e589b22b2450d1fd)</span>

<span class="gp">julia&gt;</span> <span class="n">PCGStateUnique</span><span class="p">(</span><span class="n">PCG_RXS_M_XS</span><span class="p">,</span> <span class="mi">1234567</span><span class="p">);</span>  <span class="c"># unique stream PCG, specifying the method and seed.</span>

<span class="gp">julia&gt;</span> <span class="n">PCGStateSetseq</span><span class="p">(</span><span class="kt">UInt32</span><span class="p">,</span> <span class="n">PCG_XSH_RR</span><span class="p">,</span> <span class="p">(</span><span class="mi">1234567</span><span class="p">,</span> <span class="mi">7654321</span><span class="p">))</span>
<span class="go">RandomNumbers.PCG.PCGStateSetseq{UInt64,Val{:XSH_RR},UInt32}(0xfc77de2cd901ff85,0x0000000000e99763)</span>
</pre></div>


<p><a href="../../lib/pcg/#RandomNumbers.PCG.bounded_rand-Tuple{RandomNumbers.PCG.AbstractPCG{StateType&lt;:Union{UInt128,UInt16,UInt32,UInt64,UInt8},MethodType&lt;:Union{Val{:RXS_M_XS},Val{:XSH_RR},Val{:XSH_RS},Val{:XSL_RR_RR},Val{:XSL_RR}},OutputType&lt;:Union{UInt128,UInt16,UInt32,UInt64,UInt8}},OutputType&lt;:Union{UInt128,UInt16,UInt32,UInt64,UInt8}}"><code>bounded_rand</code></a> is provided by this module, in which the bound is must an integer in the output type:</p>
<div class="codehilite"><pre><span></span><span class="gp">julia&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">PCGStateOneseq</span><span class="p">(</span><span class="mi">1234567</span><span class="p">)</span>
<span class="go">RandomNumbers.PCG.PCGStateOneseq{UInt128,Val{:XSH_RS},UInt64}(0xa10d40ffc2b1e573e589b22b2450d1fd)</span>

<span class="gp">julia&gt;</span> <span class="p">[</span><span class="n">bounded_rand</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="kt">UInt64</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="kp">in</span> <span class="mi">1</span><span class="o">:</span><span class="mi">6</span><span class="p">]</span>
<span class="go">6-element Array{UInt64,1}:</span>
<span class="go"> 0x0000000000000012</span>
<span class="go"> 0x000000000000000a</span>
<span class="go"> 0x000000000000002e</span>
<span class="go"> 0x0000000000000049</span>
<span class="go"> 0x0000000000000043</span>
<span class="go"> 0x000000000000002b</span>
</pre></div>


<p>PCG also has an <a href="../../lib/pcg/#RandomNumbers.PCG.advance!-Tuple{RandomNumbers.PCG.AbstractPCG{StateType&lt;:Union{UInt128,UInt16,UInt32,UInt64,UInt8},MethodType&lt;:Union{Val{:RXS_M_XS},Val{:XSH_RR},Val{:XSH_RS},Val{:XSL_RR_RR},Val{:XSL_RR}},OutputType&lt;:Union{UInt128,UInt16,UInt32,UInt64,UInt8}},Integer}"><code>advance!</code></a> function, used to advance the state of a PCG instance.</p>
<div class="codehilite"><pre><span></span><span class="gp">julia&gt;</span> <span class="n">srand</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="mi">1234567</span><span class="p">);</span>

<span class="gp">julia&gt;</span> <span class="n">rand</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">4-element Array{Float64,1}:</span>
<span class="go"> 0.571626 </span>
<span class="go"> 0.994506 </span>
<span class="go"> 0.888622 </span>
<span class="go"> 0.0876384</span>

<span class="gp">julia&gt;</span> <span class="n">advance!</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">);</span>

<span class="gp">julia&gt;</span> <span class="n">rand</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">4-element Array{Float64,1}:</span>
<span class="go"> 0.571626 </span>
<span class="go"> 0.994506 </span>
<span class="go"> 0.888622 </span>
<span class="go"> 0.0876384</span>
</pre></div>


<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>Oâ€™NEILL M E. PCG: A Family of Simple Fast Space-Efficient Statistically Good Algorithms for Random Number Generation[J].&#160;<a class="footnote-backref" href="#fnref:1" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../benchmark/" title="Benchmark" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Benchmark
              </span>
            </div>
          </a>
        
        
          <a href="../mersenne-twisters/" title="Mersenne Twisters" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Mersenne Twisters
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application-2afe21e0b2.js"></script>
      <script>var config={url:{base:"../.."}},app=new Application(config);app.initialize()</script>
      
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
      
        <script src="../../assets/mathjaxhelper.js"></script>
      
    
    
      
    
  </body>
</html>